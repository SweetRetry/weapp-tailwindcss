@mixin theme-transition($darkSelector: '.dark') {
  ::view-transition-old(root),
  ::view-transition-new(root) {
    mix-blend-mode: normal;
    animation: none;
  }

  ::view-transition-old(root) {
    z-index: 1;
  }

  ::view-transition-new(root) {
    z-index: 2147483646;
  }

  #{$darkSelector}::view-transition-old(root) {
    z-index: 2147483646;
  }

  #{$darkSelector}::view-transition-new(root) {
    z-index: 1;
  }
}
